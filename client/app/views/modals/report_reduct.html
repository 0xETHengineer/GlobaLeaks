<div class="modal-header">
  <div data-ng-if="maskingSwitch" class="modal-title" data-translate>Are you sure you want to mask this information?</div>
  <div data-ng-if="!maskingSwitch" class="modal-title" data-translate>Are you sure you want to redact this information?</div>
  <button type="button" class="close" data-ng-click="cancel()" aria-label="{{'Close' | translate}}">
    <i class="fa-solid fa-times"></i>
  </button>
</div>
<div class="modal-body">
  <textarea id="redact" name="controlElement" data-ng-bind="forced_visible ? unmaskedContent : content" cols="30" rows="10" data-ng-keydown="ignoreEdit($event)" class="form-control"></textarea>
</div>
<div class="modal-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <div class="custom-control custom-switch">
          <input data-ng-disabled="forced_visible || resources.preferences.can_privilege_mask_information && !resources.preferences.can_privilege_delete_mask_information" id="toggleSwitch" class="custom-control-input toggleSwitch" type="checkbox"
            data-ng-model="maskingSwitch" data-ng-change="toggleMasking()">
          <label class="custom-control-label" for="toggleSwitch">{{maskingSwitch ? 'Masking' : 'Redact'}}</label>
        </div>
      </div>
      <div class="col-md-2">
        <button id="toggle-button" data-ng-click="toggleForcedView()" class="btn custom-switch-left">
          <i class="fas fa-eye" data-ng-if="forced_visible" id="eye-icon-open"></i>
          <i class="fas fa-eye-slash" data-ng-if="!forced_visible" id="eye-icon-closed"></i>
        </button>
      </div>
      <div class="col-md-6 d-flex justify-content-end pr-0">
        <button
          name="controlElement"
          data-ng-disabled="forced_visible"
          class="btn btn-primary" data-ng-click="selectContent()">
          <span data-translate>Select</span>
        </button>
        <button
          name="controlElement"
          data-ng-disabled="ranges_selected.length == 0 || forced_visible"
          class="btn btn-primary ml-2" data-ng-click="unSelectContent()">
          <span data-translate>Unselect</span>
        </button>
        <button
          name="controlElement"
          data-ng-disabled="maskingSwitch && (ranges_selected == temporary_masking || (ranges_selected.length == 0 && temporary_masking.length == 0))  ||
                            !maskingSwitch && ranges_selected == temporary_masking  || forced_visible"
          class="btn btn-primary ml-2" data-ng-click="saveMasking()">
          <span data-translate>Save</span>
        </button>
      </div>
    </div>
  </div>
</div>
