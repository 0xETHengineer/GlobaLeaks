<!-- 

This comment is needed in order to push the following strings on transifex

{{ "Users Overview" | translate }}
{{ "Administration Interface" | translate }}

-->
<div ng-include="'views/header.html'"
     onload="header_title='Users Overview';
             header_subtitle='Administration Interface'">
</div>

<div class="container config-page" ng-controller="OverviewCtrl">
  <div class="row">
    <div class="col-md-3 config-sidebar" ng-include="'views/admin/sidebar.html'"></div>
    <div class="col-md-9">

      <h1>{{ "Users Overview" | translate }}</h1>
      <p>
      {{ "This interface shows the activity of the users of your node. This may be helpful in detecting anomalies and supporting the Receivers of your node." | translate }}
      </p>
      <div class="table-responsive">
        <table class="table table-striped table-bordered" id="receiverList">
          <thead>
            <tr>
              <th class="col-md-3">{{ "User" | translate }}</th>
              <th class="col-md-2">{{ "Failed Logins" | translate }}</th>
              <th class="col-md-4">{{ "Receiver Tips" | translate }}</th>
              <th class="col-md-3">{{ "Files and Downloads" | translate }}</th>
            </tr>
          </thead>
          <tbody id="receiverListBody">
            <tr ng-repeat="receiver in users">
              <td class="col-md-3"><a href="/#/admin/receivers/">{{receiver.name}}</a></td>
              <td class="col-md-2">{{receiver.failed_login}}</td>
              <td class="col-md-4">
                <ul>
                  <li ng-repeat="rtip in receiver.receivertips">
                    {{rtip.status}} {{rtip.last_access}} ({{rtip.access_counter}})
                  </li>
                </ul>
              </td>
              <td class="col-md-3">
                <ul>
                  <li ng-repeat="rfile in receiver.receiverfiles">
                    {{rfile.file_name}} ({{rfile.downloads}}), {{rfile.last_access}}
                  </li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
